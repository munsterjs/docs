(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{74:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return l})),a.d(t,"metadata",(function(){return c})),a.d(t,"rightToc",(function(){return i})),a.d(t,"default",(function(){return p}));var n=a(2),r=a(6),o=(a(0),a(89)),l={id:"router.md",title:"Router",sidebar_label:"Router",slug:"/router"},c={unversionedId:"router.md",id:"router.md",isDocsHomePage:!1,title:"Router",description:"Router is a plugin that enables developers to build a single page application with multiple components that acts as different views of the app.",source:"@site/docs\\router.md",slug:"/router",permalink:"/docs/docs/router",editUrl:"https://github.com/munsterjs/docs/blob/master/docs/router.md",version:"current",sidebar_label:"Router",sidebar:"someSidebar",previous:{title:"Props",permalink:"/docs/docs/props"},next:{title:"Store",permalink:"/docs/docs/store"}},i=[{value:"Register the plugin",id:"register-the-plugin",children:[]},{value:"Router property",id:"router-property",children:[]},{value:"Creating routes",id:"creating-routes",children:[]},{value:"Dynamic route matching",id:"dynamic-route-matching",children:[]},{value:"Router outlet",id:"router-outlet",children:[]},{value:"Router link",id:"router-link",children:[]},{value:"Middleware",id:"middleware",children:[]},{value:"Lazy loading",id:"lazy-loading",children:[]}],b={rightToc:i};function p(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},b,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Router is a plugin that enables developers to build a single page application with multiple components that acts as different views of the app.\nView changes depending on the activated route. Activated routes depends on the url of the browser and the path registered in the router."),Object(o.b)("h2",{id:"register-the-plugin"},"Register the plugin"),Object(o.b)("p",null,"Router must be registered as a plugin first before we can use it."),Object(o.b)("p",null,"Here's an example on how to register the router:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"import { Module, Router } from 'munster';\n\nexport class RootModule extends Module {\n    plugins = [\n        Router.routes([])\n    ];\n}\n")),Object(o.b)("p",null,"The static method ",Object(o.b)("inlineCode",{parentName:"p"},"routes")," accepts an array of routes."),Object(o.b)("h2",{id:"router-property"},"Router property"),Object(o.b)("p",null,"After router is registered in a module, a ",Object(o.b)("inlineCode",{parentName:"p"},"$router")," property is added to all the component registered in the module."),Object(o.b)("h4",{id:"navigate"},"Navigate"),Object(o.b)("p",null,"Router contains a navigate feature the same as the ",Object(o.b)("inlineCode",{parentName:"p"},"Navigate")," plugin using ",Object(o.b)("inlineCode",{parentName:"p"},"this.$router.navigate(<url>)"),"."),Object(o.b)("h4",{id:"events"},"Events"),Object(o.b)("p",null,"Router gives us an ability to watch for a router events."),Object(o.b)("p",null,"Here are the list of available events:"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Events"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null})))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"onRouteChange"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Triggers when the routes is changed. Watchers are automatically un-watched when the component is destroyed.")))),Object(o.b)("p",null,"Here's an example on how to watch for an event:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-html"}),"<template>\n    ...\n</template>\n\n<script>\n    export default class RootComponent {\n        $connected() {\n            this.$router.events.onRouteChange.watch(params => {\n                console.log(params);\n            });\n        }\n    }\n<\/script>\n")),Object(o.b)("h4",{id:"router-params"},"Router params"),Object(o.b)("p",null,"We can also get the router parameters using ",Object(o.b)("inlineCode",{parentName:"p"},"this.$router.params()"),"."),Object(o.b)("h2",{id:"creating-routes"},"Creating routes"),Object(o.b)("p",null,"A route is just a javascript object that contains two required properties, ",Object(o.b)("inlineCode",{parentName:"p"},"path")," and ",Object(o.b)("inlineCode",{parentName:"p"},"component")," and some optional properties."),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Properties"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"type"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null})))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"path"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"String"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The path that should match in the browser url pathname before the route is activated.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"component"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Class"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The component that will be rendered in the ",Object(o.b)("inlineCode",{parentName:"td"},"<app-router-outlet />")," when route path matches the browser url pathname.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"exact"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Boolean"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"If the values is true, then the Component will only activate if route path is an exact match with the browser url pathname but still respect the dynamic route matching.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"middleware"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Array"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"It is another layer of checking if the component can activate or not.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"children"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Array"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"An Array of child routes.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"module"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"import"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Load modules on demand.")))),Object(o.b)("p",null,"Here's an example on how to create routes"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"import SampleComponent from './sample.component.html';\nimport ChildComponent from './child.component.html';\n\nconst routes = [\n    {\n        path: '/route', component: SampleComponent, children: [\n            { path: '/route/child', component: ChildComponent }\n        ]\n    }\n];\n")),Object(o.b)("h2",{id:"dynamic-route-matching"},"Dynamic route matching"),Object(o.b)("p",null,"Dynamic route matching is a way to match a route path segment into its matching browser url pathname segment.\nA dynamic segment is denoted by a colon ",Object(o.b)("inlineCode",{parentName:"p"},":")," followed by the segment name. ex. ",Object(o.b)("inlineCode",{parentName:"p"},"/:userId"),".\nThe value of the dynamic segments is accessible in it's component only using ",Object(o.b)("inlineCode",{parentName:"p"},"this.$router.params()"),"."),Object(o.b)("p",null,"Here's a table of dynamic routes and its corresponding values in ",Object(o.b)("inlineCode",{parentName:"p"},"this.$router.params()"),":"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"component path"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"browser url pathname"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"this.$router.params()"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"/:path"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"/100"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"{ path: 100 }")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"/user/:userId"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"/user/123"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"{ userId: 123 }")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"/post/:postId/:userId"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"/post/1/123"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"{ postId: 1, userId: 123 }")))),Object(o.b)("h2",{id:"router-outlet"},"Router outlet"),Object(o.b)("p",null,"Router outlet is where the activated component is located after activation. Router outlet is written as ",Object(o.b)("inlineCode",{parentName:"p"},"<plug-router-outlet />")," in the view."),Object(o.b)("p",null,"Here's an example on how to implement the router outlet:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-html"}),"<template>\n    <div>\n        <plug-router-outlet />\n    </div>\n</template>\n")),Object(o.b)("h2",{id:"router-link"},"Router link"),Object(o.b)("p",null,"Router link is an additional feature of the router plugin.\nIt allows the developer to add an anchor tag in the view to navigate to different routes."),Object(o.b)("p",null,"Here's an example on how to add a router link:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),'<template>\n    <plug-link href="/route-path">I am a link</plug-link>\n</template>\n')),Object(o.b)("p",null,"The code above will generate an element like the following:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),'<a href="/route-path">I am a link</a>\n')),Object(o.b)("h2",{id:"middleware"},"Middleware"),Object(o.b)("p",null,"Middleware is another way to check if a component can activate.\nIt can also run a block of codes before a route event happen."),Object(o.b)("p",null,"Here's an example on how to use middleware:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"import { SampleMiddleware } from './sample.middleware';\nconst routes = [\n    {\n        path: '/sample-route', component: SampleComponent,\n        middleware: [SampleMiddleware]\n    }\n];\n")),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"export class SampleMiddleware {\n    canActivate() {\n        // return true or false\n    }\n}\n")),Object(o.b)("p",null,"If ",Object(o.b)("inlineCode",{parentName:"p"},"canActivate")," method returns true, then the component is allowed to activate and not allowed if otherwise."),Object(o.b)("h2",{id:"lazy-loading"},"Lazy loading"),Object(o.b)("p",null,"To lazy load components or load components on demand, we can use the ",Object(o.b)("inlineCode",{parentName:"p"},"module")," property of a route.\nFirst we need to create a module then declare the components inside the module and pass the module to the route."),Object(o.b)("p",null,"Here's an example on how to use lazy loading in router plugin:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"const routes = [\n    {\n        path: '/sample-route',\n        module: import('./sample.module').then(mod => mod.SampleModule)\n    }\n];\n")),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"// ./sample.module.js\nimport { Module } from 'munster';\nimport SampleComponent from './sample.component';\n\nexport class SampleModule extends Module {\n    rootComponent = SampleComponent;\n}\n")))}p.isMDXComponent=!0},89:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return s}));var n=a(0),r=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var b=r.a.createContext({}),p=function(e){var t=r.a.useContext(b),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},u=function(e){var t=p(e.components);return r.a.createElement(b.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,b=i(e,["components","mdxType","originalType","parentName"]),u=p(a),d=n,s=u["".concat(l,".").concat(d)]||u[d]||m[d]||o;return a?r.a.createElement(s,c(c({ref:t},b),{},{components:a})):r.a.createElement(s,c({ref:t},b))}));function s(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,l=new Array(o);l[0]=d;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=e,c.mdxType="string"==typeof e?e:n,l[1]=c;for(var b=2;b<o;b++)l[b]=a[b];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"}}]);